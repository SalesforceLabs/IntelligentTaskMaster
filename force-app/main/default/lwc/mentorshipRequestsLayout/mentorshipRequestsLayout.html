<template>
    <lightning-card title="My Mentees">
        <lightning-button variant="brand-outline" label="View All" title="View All" slot="actions" class="slds-m-left_x-small"></lightning-button>
        <template if:true={allItemsForCurrentView}>
        <div class="slds-box" style="width: 100%; background-color:white">
            <template for:each={allItemsForCurrentView} for:item="request">
            <lightning-layout  class="slds-box" style="background-color:white" horizontal-align="space" onclick={takeAction} multiple-rows="true" data-skill={request.skillName} data-mentee={request.personName} data-status={request.status} key={request.personName} data-id={request.mID}  >
                <lightning-layout-item size="10" padding="around-small">
                    <div><span class="slds-text-title_bold" style="color:#0176d3">{request.personName}</span></div>
                    <p class="timeStyle">
                        {request.status} : {request.lastmodifiedDate}
                    </p>
                    <p class="timeStyle">Skill: {request.skillName}</p>
                </lightning-layout-item>
                <lightning-layout-item size="2" padding="around-small">
                    <template if:true ={request.newMentorshipFlag}>
                        <lightning-badge class="notificBadge" label="New" ></lightning-badge>
                    </template>
                </lightning-layout-item>
            </lightning-layout>
            </template>
        </div>
    </template>
</lightning-card>
<template if:true={openMenteeRequest}>
<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" class="slds-modal slds-fade-in-open">
    <div class="slds-modal__container">
        <lightning-button-icon class="slds-modal__close" style="background-color:white" icon-name="utility:close" onclick={closeRequestMenteeUI}></lightning-button-icon>      
    <div class="slds-modal__header">
        <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Mentoring Request</h1>
        </div>
        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
        <p class="slds-text-heading_label slds-text-align_left">Name</p>
        <p>{menteeName}</p>
        <br></br>
        <p class="slds-text-heading_label slds-text-align_left">Requested Skill</p>
        <p>{skillName}</p>
        <br></br>
        <p class="slds-text-heading_label slds-text-align_left">Message</p>
        <p>
            <lightning-textarea name="input7" onchange={handleMessageChange} value={rMessage}  placeholder="compose your message" label="" maxlength="140" message-when-too-long="A maximum of 140 characters are allowed" message-when-value-missing="An empty message cannot be posted." ></lightning-textarea>
        </p>
        </div>
        <div class="slds-modal__footer">
            <lightning-button variant="brand-outline" label="Decline" data-message={handleMessageChange} title="Decline" onclick={handleActions} class="slds-m-left_x-small"></lightning-button>
            <lightning-button variant="brand" label="Accept Request" title="Accept Request" onclick={handleActions} class="slds-m-left_x-small"></lightning-button>
        </div>
    </div>
</section>
<div class="slds-backdrop slds-backdrop_open" role="presentation"></div>

</template>
</template>